2014年4月，领先的计算机专业协会IEEE计算机协会与来自Google，Twitter，Cigital等组织的其他行业专家一起成立了安全设计中心（CSD），并发表了“ 避免软件安全设计的十大缺陷”。IEEE报告列出了他们在内部设计审查和开发程序中发现的最常见的10个安全设计缺陷，以及如何避免这些缺陷的建议。IEEE的这份报告试图将设计师的注意力从代码bug转移到设计缺陷。

关注于识别和消除安全缺陷，有许多报告列出了最常见的缺陷。例如，OWASP Top 10。然而，很少有报告讨论可能导致产生安全缺陷的设计缺陷。

Twitter安全工程团队成员尼尔•达斯瓦尼(Neil Daswani)表示，“当你能在(软件)设计阶段解决一个问题时，它会自动在随后的阶段解决一系列问题。”

SEI的报告再次证明了在应用程序生命周期的其他阶段中设计时安全关注的优先级。体系结构的初始阶段应该从一开始就考虑安全性，这种考虑应该朝着实现和部署的方向发展。一旦部署软件后，对缺陷（尤其是安全缺陷）的需求可能会更高。另一方面，如果缺陷在最初的设计阶段就被修复，那么它们的成本通常会更低。



# 避免十大软件安全缺陷的提示

在这里，这是基于IEEE报告的一个关于“需要避免的十大安全缺陷”的概述。

1. 未经验证不要相信。
2. 使用完善的授权机制。
3. 尽管已通过身份验证，也需要授权。
4. 将控制指令与数据隔离，并且永远不要访问不受信任的控制指令。
5. 定义一个策略，以确保显式验证整个数据。
6. 正确使用加密。
7. 发现敏感数据并找到安全的方法来处理它们。
8. 始终考虑用户的前景。
9. 意识到集成外部组件对攻击表面的影响。
10. 在考虑对参与者和对象即将进行的更改时，要有适应性。

“错误（bug）和缺陷（flaw）是两种截然不同的安全问题，我们认为与安全设计和避免缺陷相比，对常见错误的关注要多得多，这令人担忧，因为设计缺陷占软件安全问题的50％ 。” Cigital的首席技术官Gary McGraw说。


1.未经验证不要相信。

根据该报告，在客户端软件上放置授权，访问控制，策略执行和任何敏感数据的设计通常会导致安全性受损。此外，来自不可信客户端环境的数据应被视为骗局，并且必须在执行安全任务之前对其进行验证。如果这些数据需要存储在客户端软件上，则必须将它们设计为应对潜在的危害。

2.使用完善的授权机制。

安全设计的目的是防止攻击者在未经身份验证的情况下访问数据，并防止用户在未经身份验证的情况下更改其身份。建议使用身份验证技术，例如“您所知道的，您所拥有的和您所属于的”。避免共享IP地址和Mac地址等信息。使用不可预测的基于时间的令牌。设计自动注销过程。并使用单一方法组件对用户进行身份验证。

3.尽管已通过身份验证，也需要授权。

对用户进行身份验证后对其进行授权同样重要。并非所有经过身份验证的用户都应被授予对系统各个方面的访问权限。用户的授权取决于请求的上下文，请求的位置和时间等因素。对于某些敏感操作，身份验证应该是一个连续的过程。通用基础结构可用于授权检查。

4.将控制指令与数据隔离，并且永远不要访问不受信任的控制指令

该报告建议使用硬件功能隔离控制指令和数据，因为数据和控制指令的混合可能容易受到攻击。留意可能导致注射风险的易于注射的API。使用硬件功能来分离代码和数据。使用编译器来控制不受信任的数据。注意暴露的反射，Eval函数和查询语言。

5.定义一种策略，以确保显式验证整个数据

建议在进入系统之前确保集中的验证机制和规范的数据验证形式以验证数据。使用实现级别的语言类型来注意有关有效性的假设。尝试使用黑名单而不是白名单。

6.正确使用加密。

加密的使用对于确保数据的机密性非常重要。该报告列出了设计时要确保的许多活动。他们之中有一些是：
建立自己的系统算法。
使用标准算法和库
保护加密密钥。
立即获得正确的加密技术。
避免非随机性

8.7.发现敏感数据并找到安全的方法来处理它们

识别敏感数据并找到保护它们的方法。数据敏感度是上下文敏感度。将来自外部源的数据分类，并创建处理它们的策略。考虑所有数据保护要求（例如-完整性，机密性等）。确定信任边界。计划随时间变化。

8.始终考虑用户的前景

以易于使用，部署，配置和更新的方式设计系统。还应考虑用户的文化偏见，习惯和身体能力。为不了解系统安全性的用户启用默认安全性功能。不要以为用户知道安全性。为感兴趣的人提供安全的配置功能。避免使用诸如用户疲劳，对用户的安全决策等功能。

9.意识到集成外部组件对攻击面的影响

该报告建议设计人员应始终检查其外部组件的安全性，因为它们存在使用风险。当包含外部组件时，请务必花些时间在开发过程中考虑安全影响。在应用和审核控件之前，不要信任它们。始终隔离组件。仅将它们配置为使用要使用的功能，并注意其他功能。记录所有内容并进行设计以提高灵活性。

10.在考虑对参与者和对象即将进行的更改时，要有适应性。

在设计安全实施的软件时，始终要做好应对威胁变化，环境和状况等变化的准备。始终要考虑安全更新。在某些情况下（例如在更新代码时）可以灵活地更改安全属性。应该以隔离功能或在功能之间切换的方式进行设计。始终有一个“机密妥协”恢复计划。在系统中设计“敏捷性”。始终考虑加密中断和代码签名。



该报告清楚地定义了设计缺陷与任何软件的缺陷一样重要。通过将重点从软件错误转移到设计缺陷上，将为开发人员节省大量时间和金钱，并可以节省软件以后在设计中开发威胁漏洞的时间。



参考链接：

https://www.hack2secure.com/blogs/avoiding-top-10-software-security-design-flaws